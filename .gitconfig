[push]
  default = simple
[core]
  excludesfile = ~/.gitignore  # global.gitignore setting
  #autoCRLF = false
  #quotepath = false
  #safecrlf = true
  quotepath = false
  whitespace = cr-at-eol
  pager = less -R
  ignorecase = false
[branch]
  autosetuprebase = always
  autosetupmerge = always
[pull]
  rebase = true
[http]
  sslVerify = false
[alias]
  st = status
  amend = cm --amend
  diffc = diff --cached
  show-merged-branches = !git branch --merged | grep -v '\\*\\|master'
  co = checkout
  cob = checkout -b
  cb = checkout -b
  cop = !git checkout $(git branch --sort=-committerdate --format=' %(committerdate:iso8601)%09%(refname:lstrip=2)'| peco | sed -e \"s/\\* //g\" | awk '{print $4}')
  fetch-pr-upstream = !sh -c 'git fetch upstream pull/$1/head:pr-$1' -
  lg = log --graph --pretty=format:'%C(auto)%h -%d %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
  d = diff
  b = branch
  dc = !git diffc
  cm = commit -v
  ss = status --short
  pl = pull
  ph = push upstream HEAD
  P = ph
  bk = co -
  tracking-branch = !git rev-parse --abbrev-ref --symbolic-full-name @{upstream}
  tracking-name = !git tracking-branch | cut -d / -f2-
  tracking = !git co $(git tracking-name)
  bro = browse
  create-pr = !hub pull-request -o -b $(git tracking-name)
  showpr = "!f() { hub browse -- `git log --merges --oneline --reverse --ancestry-path $1...master | grep 'Merge pull request #' | head -n 1 | cut -f5 -d' ' | sed -e 's%#%pull/%'`; }; f"
  findpr = "!f() { git log --merges --reverse --ancestry-path $1...master | grep 'Merge pull request #' -B5 | head -n 6; }; f"
  # reflogから復元するalias
  undo = "!f() { git reset --hard $(git rev-parse --abbrev-ref HEAD)@{${1-1}}; }; f"

  #カレントブランチとリモートのコミットの差分だけをlogで出力
  lcu = !git log $(git tracking-branch)..
  dcu = !git diff $(git tracking-branch)..
  fp = fetch --prune
  rbi = rebase -i
  resetcu = !git lcu --oneline | grep -c '' | xargs -I % git reset HEAD~%
  aliases = !git config --list | grep 'alias\\.' | sed 's/alias\\.\\([^=]*\\)=\\(.*\\)/\\1\\\t => \\2/' | sort
[merge]
  tool = vimdiff
[rebase]
  autosquash = false
[pager]
  log = diff-highlight | less
  show = diff-highlight | less
  diff = diff-highlight | less
[diff]
  indentHeuristic = true
  compactionHeuristic = true
  algorithm = histogram
  renames = true
	noprefix = true
[include]
  path = ~/.gitconfig.local
[init]
  templatedir = ~/.git_template
[color]
  ui = true
[interactive]
  diffFilter = diff-highlight
